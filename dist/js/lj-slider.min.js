/**
 * LjSlider v1.2
 * Licensed under the terms of the MIT license.
 * 
 * By Marson Lj @idjitjohn
 * https://idjitjohn.github.io/portfolio
 */
function LjSlider(e){this.init(e)}LjSlider.prototype.initParams=function(e){var t={elt:null,sameStep:!0,start:0,pins:1,handler:console.log,link:!0,steps:[{step:1,number:10}],values:[]};for(key in t)this[key]=void 0===e[key]?t[key]:e[key]},LjSlider.prototype.getValues=function(){return this.values},LjSlider.prototype.setValues=function(e){if(!Array.isArray(e))return this.setValues([e]);var t=Array.from(this.elt.querySelectorAll(".pin"));for(let s=0;s<e.length&&t[s];s++){var r=this.steps_values.values.indexOf(e[s]);r>=0&&(t[s].style.left=this.steps_values.steps[r]+"%",t[s].dataset.val=e[s],LjSlider.current=this,this.change(),LjSlider.current=void 0)}},LjSlider.prototype.init=function(e){if(this.initParams(e),this.checkErrors()){this.createPins(),this.createLinks(),this.addEvents();var t=this.values;if(!Array.isArray(t)||t.length>0)this.setValues(t);else if(t=this.elt.dataset.val)this.setValues(JSON.parse("["+this.elt.dataset.val+"]")),this.elt.removeAttribute("data-val");else for(let e=0;e<this.pins;e++)this.values.push(this.start)}},LjSlider.prototype.change=function(){var e=Array.from(LjSlider.current.elt.querySelectorAll(".pin"));if(e=e.map(function(e){return{pin:e,val:e.dataset.val?parseFloat(e.dataset.val):LjSlider.current.start,x:e.style.left?parseFloat(e.style.left):0}}).sort(function(e,t){return e.val<t.val?-1:1}),LjSlider.current.values=e.map(function(e){return e.val}),LjSlider.current.link){var t=LjSlider.current.pins%2,r;if(t)(r=LjSlider.current.elt.querySelector(".diff")).style.left="0",r.style.width=e[0].x+"%";for(let s=t;s<Math.ceil(LjSlider.current.pins/2);s++){var r;(r=LjSlider.current.elt.querySelectorAll(".diff")[s+t]).style.left=e[2*s+t].x+"%",r.style.width=e[2*s+1+t].x-e[2*s+t].x+"%"}}LjSlider.current.handler(e.map(function(e){return e.val}))},LjSlider.prototype.checkErrors=function(){return this.elt.classList?(this.elt.classList.add("lj-slider"),!(this.pins<=0)||console.error("The passed `pins` value is not valid ")):console.error("The passed elt parameter must be a DOMElemnt")},LjSlider.prototype.createPins=function(){for(let t=0;t<this.pins;t++){var e=document.createElement("div");e.classList.add("pin"),this.elt.appendChild(e)}},LjSlider.prototype.createLinks=function(){if(this.link)for(let t=0;t<Math.ceil(this.pins/2);t++){var e=document.createElement("div");e.classList.add("diff"),this.elt.appendChild(e)}},LjSlider.prototype.getMinStep=function(){return this.steps.reduce(function(e,t){return t.step<e?t.step:e},this.steps[0].step)},LjSlider.prototype.initSteps=function(){var e=this.getMinStep();this.steps=this.steps.map(function(t){return t.multiply=this.sameStep?1:t.step/e,t});var t=100/this.steps.reduce(function(e,t){return e+t.number*t.multiply},0),r=[0],s=[this.start];this.steps.reduce(function(e,i){var n=e[1];e=e[0];for(let l=1;l<=i.number;l++)r.push(e+t*i.multiply*l),s.push(n+i.step*l);return[e+=t*i.multiply*i.number,n+=i.step*i.number]},[0,this.start]),this.steps_values={steps:r,values:s}},LjSlider.prototype.addEvents=function(){this.initSteps();var e=this,t=function(t){if(LjSlider.current_pin&&0!==t.y){var r=LjSlider.current.steps_values.values;steps=LjSlider.current.steps_values.steps;var s=LjSlider.current.start,i=LjSlider.current_pin;par=parseInt(getComputedStyle(i.parentNode).width);for(var n=0,l=i.parentNode;l;)n+=l.offsetLeft,l=l.offsetParent;var a=(t.touches?t.touches[0].clientX:t.clientX)-n;a>par?a=par:a<0&&(a=0),a=100*a/par;for(var u=0;u<steps.length;u++)if(steps[u+1]>=a){steps[u]<a&&(Math.abs(a-steps[u])<Math.abs(a-steps[u+1])?(a=steps[u],s=r[u]):(a=steps[u+1],s=r[u+1]));break}parseFloat(i.dataset.val)!=s&&(i.style.left=a+"%",i.dataset.val=s,e.change())}};if(void 0===LjSlider.window_handled){LjSlider.window_handled=!0;var r=function(){LjSlider.current_pin=void 0,LjSlider.current=void 0};window.addEventListener("mousemove",t,!1),window.addEventListener("touchmove",t,!1),window.addEventListener("mouseup",r,!1),window.addEventListener("touchend",r,!1)}var s=function(t){LjSlider.current=e,LjSlider.current_pin=t.target};this.elt.querySelectorAll(".pin").forEach(function(e){e.addEventListener("mousedown",s,!1),e.addEventListener("touchstart",s,!1)})};