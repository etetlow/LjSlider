/**
 * LjSlider v1.2
 * Licensed under the terms of the MIT license.
 * 
 * By Marson Lj @idjitjohn
 * https://idjitjohn.github.io/portfolio
 */
function LjSlider(t){this.init(t)}LjSlider.prototype.initParams=function(t){var e={elt:null,sameStep:!0,start:0,pins:1,handler:console.log,link:!0,steps:[{step:1,number:10}],values:[]};for(key in e)this[key]=void 0===t[key]?e[key]:t[key]},LjSlider.prototype.getValues=function(){return this.values},LjSlider.prototype.setValues=function(t){if(!Array.isArray(t))return this.setValues([t]);var e=Array.from(this.elt.querySelectorAll(".pin"));for(let s=0;s<t.length&&e[s];s++){var r=this.steps_values.values.indexOf(t[s]);r>=0&&(e[s].style.left=this.steps_values.steps[r]+"%",e[s].dataset.val=t[s],LjSlider.current=this,this.change(),LjSlider.current=void 0)}},LjSlider.prototype.init=function(t){if(this.initParams(t),this.checkErrors()){this.createPins(),this.createLinks(),this.addEvents();var e=this.values;if(!Array.isArray(e)||e.length>0)this.setValues(e);else if(e=this.elt.dataset.val)this.setValues(JSON.parse("["+this.elt.dataset.val+"]")),this.elt.removeAttribute("data-val");else for(let t=0;t<this.pins;t++)this.values.push(this.start)}},LjSlider.prototype.change=function(){var t=Array.from(LjSlider.current.elt.querySelectorAll(".pin"));if(t=t.map(function(t){return{pin:t,val:t.dataset.val?parseFloat(t.dataset.val):LjSlider.current.start,x:t.style.left?parseFloat(t.style.left):0}}).sort(function(t,e){return t.val<e.val?-1:1}),LjSlider.current.values=t.map(function(t){return t.val}),LjSlider.current.link){var e=LjSlider.current.pins%2,r;if(e)(r=LjSlider.current.elt.querySelector(".diff")).style.left="0",r.style.width=t[0].x+"%";for(let s=e;s<Math.ceil(LjSlider.current.pins/2);s++){var r;(r=LjSlider.current.elt.querySelectorAll(".diff")[s+e]).style.left=t[2*s+e].x+"%",r.style.width=t[2*s+1+e].x-t[2*s+e].x+"%"}}LjSlider.current.handler(t.map(function(t){return t.val}))},LjSlider.prototype.checkErrors=function(){return this.elt.classList?(this.elt.classList.add("lj-slider"),!(this.pins<=0)||console.error("The passed `pins` value is not valid ")):console.error("The passed elt parameter must be a DOMElemnt")},LjSlider.prototype.createPins=function(){for(let e=0;e<this.pins;e++){var t=document.createElement("div");t.classList.add("pin"),this.elt.appendChild(t)}},LjSlider.prototype.createLinks=function(){if(this.link)for(let e=0;e<Math.ceil(this.pins/2);e++){var t=document.createElement("div");t.classList.add("diff"),this.elt.appendChild(t)}},LjSlider.prototype.getMinStep=function(){return this.steps.reduce(function(t,e){return e.step<t?e.step:t},this.steps[0].step)},LjSlider.prototype.initSteps=function(){var t=this.getMinStep();this.steps=this.steps.map(function(e){return e.multiply=this.sameStep?1:e.step/t,e});var e=100/this.steps.reduce(function(t,e){return t+e.number*e.multiply},0),r=[0],s=[this.start];this.steps.reduce(function(t,i){var n=t[1];t=t[0];for(let l=1;l<=i.number;l++)r.push(t+e*i.multiply*l),s.push(n+i.step*l);return[t+=e*i.multiply*i.number,n+=i.step*i.number]},[0,this.start]),this.steps_values={steps:r,values:s}},LjSlider.prototype.addEvents=function(){this.initSteps();var t=this,e=this.steps_values.values;steps=this.steps_values.steps;var r=function(r){if(LjSlider.current_pin&&0!==r.y){var s=this.start,i=LjSlider.current_pin;par=parseInt(getComputedStyle(i.parentNode).width);for(var n=0,l=i.parentNode;l;)n+=l.offsetLeft,l=l.offsetParent;var a=(r.touches?r.touches[0].clientX:r.clientX)-n;a>par?a=par:a<0&&(a=0),a=100*a/par;for(var o=0;o<steps.length;o++)if(steps[o+1]>=a){steps[o]<a&&(Math.abs(a-steps[o])<Math.abs(a-steps[o+1])?(a=steps[o],s=e[o]):(a=steps[o+1],s=e[o+1]));break}parseFloat(i.dataset.val)!=s&&(i.style.left=a+"%",i.dataset.val=s,t.change())}};if(void 0===LjSlider.window_handled){LjSlider.window_handled=!0;var s=function(){LjSlider.current_pin=void 0,LjSlider.current=void 0};window.addEventListener("mousemove",r,!1),window.addEventListener("touchmove",r,!1),window.addEventListener("mouseup",s,!1),window.addEventListener("touchend",s,!1)}var i=function(e){LjSlider.current=t,LjSlider.current_pin=e.target};this.elt.querySelectorAll(".pin").forEach(function(t){t.addEventListener("mousedown",i,!1),t.addEventListener("touchstart",i,!1)})};